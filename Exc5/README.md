# Архитектурное решение по кешированию

## Мотивация

Внедрение кеширования в систему компании позволит снизить нагрузку на серверы, ускорить время отклика и улучшить пользовательский опыт. Основные проблемы, которые кеширование поможет решить:

1. Высокая нагрузка на API: Устранение необходимости многократного выполнения одних и тех же запросов к базе данных.
2. Долгое время загрузки страниц: Ускорение отображения часто запрашиваемых данных.
3. Оптимизация использования ресурсов: Снижение потребности в мощности серверов.

Элементы системы для кеширования:

- Часто запрашиваемые данные из базы данных: Например, списки заказов.
- Данные статуса заказов: Часто изменяемые, но редко запрашиваемые.

## Предлагаемое решение

Тип кеширования: серверное

- Причины: Серверное кеширование позволяет централизованно управлять данными, снижает нагрузку на серверы и уменьшает время отклика для всех пользователей.

Паттерн кеширования: Cache-Aside

- Позволяет контролировать, какие данные попадут в кеш;
- Хорошо подходит для часто читаемых и редко изменяемых данных;
- Остальные паттерны (Write-Through и Refresh-Ahead) менее эффективны, так как Write-Through может замедлять запись, а Refresh-Ahead требует прогнозирования данных, что сложно реализовать.

### [Диаграмма последовательности действий](diagram.puml)

### [В виде изображения](diagram.png)

## Стратегия инвалидации кеша

По сравнению с другими стратегиями, временное кеширование обеспечивает баланс между простотой реализации и эффективностью. Оно подходит для компании, так как позволяет снизить нагрузку на серверы и ускорить доступ к данным, не усложняя систему. Дополнительно стоит использовать инвалидацию по ключу для инвалидации кеша по заказам. В данном случае будет обновлению по ключу во время записи, это поможет быстрее сводить консистентность.

- Стратегия: временная (Time-based)
  - Обеспечивает автоматическое обновление данных через заданные интервалы времени, что упрощает управление кешем.
- Стратегия: по ключу
  - Позволяет инвалидировать кеш для конкретных данных или ключей, что позволит производить инвалидацию когда только некоторые данные нуждаются в обновлении.

Сравнительный анализ стратегий:

| Стратегия             | Преимущества                                                        | Недостатки                                                 |
|-----------------------|---------------------------------------------------------------------|------------------------------------------------------------|
| Временная             | Простота реализации, автоматическое обновление                      | Возможны устаревшие данные в период между обновлениями     |
| По ключу              | Точность, обновление только измененных данных                       | Сложность отслеживания всех изменений                      |
| Программная           | Гибкость, точечное обновление                                       | Требует дополнительной логики в приложении                 |